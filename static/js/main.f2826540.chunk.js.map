{"version":3,"sources":["component/Stock.jsx","component/data/index.js","component/charts/PieChart/vis.js","component/charts/PieChart/index.js","component/View3.jsx","component/charts/LineChart/index.js","component/View4.jsx","component/charts/BarChart/vis.js","component/charts/BarChart/index.js","component/View6.jsx","component/Dashboard.jsx","App.js","reportWebVitals.js","index.js"],"names":["Stock","data","draw","props","gender","count","Array","fill","forEach","d","genderIndex","indexOf","dataset","label","d3","remove","margin","width","height","svg","append","attr","radius","Math","min","color","range","arc","innerRadius","outerRadius","pie","value","sort","selectAll","enter","i","legendG","text","style","Component","Checkbox","Group","alpaca","Alpaca","keyId","secretKey","paper","LineChart","useState","size","setSize","useLayoutEffect","updateSize","parentDiv","document","getElementsByClassName","parentWidth","clientWidth","parentHeight","clientHeight","window","addEventListener","removeEventListener","useWindowSize","priceData","setPriceData","oldPriceData","setOldPriceData","symbol","getDataFromAlpaca","a","resp","getBarsV2","start","moment","subtract","format","end","limit","timeframe","adjustment","configuration","bars","b","push","length","_","isEqual","tempPriceData","console","log","useEffect","date","Timestamp","ClosePrice","x","domain","nice","call","y","rect","xBar","paddingInner","paddingOuter","yBar","map","Volume","merge","bandwidth","datum","transition","duration","bisect","left","focus","focusBox","focusLine","focusText1","focusText2","focusText3","on","event","mouse_x","this","xposition","x0","invert","selectedData","tz","guess","zoneAbbr","toFixed","toLocaleString","className","View4","id","overflowX","overflowY","age","padding","name","View6","selectedSymbol","setSelectedSymbol","onClick","e","key","changeSelectSymbol","selectSymbol","selectedKeys","Item","Sider","Layout","Content","Footer","initialStockList","Dashboard","setSymbol","minuteData","setMinuteData","greaterThenAge","includedGender","filter","user","backgroundColor","marginTop","textAlign","href","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f2826540.chunk.js","sourcesContent":["import { useEffect, useState, createRef, useRef } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\n// import * as d3 from 'd3';\nimport { select } from 'd3';\n// import { svg } from 'd3';\n\nfunction Stock() {\n  // const [stockCloses, setStockCloses] = useState([]);\n  const [data, setData] = useState([24, 30, 45, 70, 26]);\n  // const ref = createRef();\n  const svgRef = useRef();\n  const svg = select(svgRef.current);\n\n  useEffect(()=>{\n    getStockData();\n  }, [])\n\n  useEffect(()=>{\n    draw();\n  }, [])\n\n  const getStockData = async () => {\n    const polygonUrl = 'https://api.polygon.io/v2/aggs/ticker/'\n    const ticker = 'X:BTCUSD/';\n    const range = 'range/1/day/';\n    const from = moment().add(-30, 'days').format('YYYY-MM-DD')+'/';\n    const to = moment(new Date()).format('YYYY-MM-DD')+'?';\n    const configs = 'adjusted=true&sort=asc&limit=120&';\n    const apiKey = 'apiKey=xksrOIBgAp64YKpGr8pQtrSTMtRktvAQ';\n    const axiosUrl = polygonUrl + ticker + range + from + to + configs + apiKey;\n    // console.log(axiosUrl)\n    const axiosResult = await axios(axiosUrl);\n    // console.log(axiosResult.data.results)\n    const results = axiosResult.data.results;\n    // console.log(results.length)\n    const closes = results.map(e=>e.c);\n    console.log('closes: ', closes)\n    // setStockCloses(closes);\n  };\n\n  const dimensions = { width: 500, height: 400, left: 10, right: 10}\n\n  const draw = () => {\n    svg\n      .selectAll(\"circle\")\n      .data(data)\n      .join(\n        (enter) => enter.append(\"circle\"),\n        (update) => update.attr('class', 'updated'),\n        (exit) => exit.remove()\n      )\n      .attr(\"r\", (value) => value)\n      .attr(\"cx\", (value) => value * 2)\n      .attr(\"cy\", (value) => value * 2)\n      .attr(\"stroke\", \"red\");\n  }\n\n  return (\n    <>\n      {/* <header> */}\n        {/* <div ref={ref} /> */}\n          {/* {stockCloses} */}\n      {/* </header> */}\n      <svg ref={svgRef}></svg>\n    </>\n  );\n}\n\nexport default Stock;\n","const data = [\n  {\n      'name': 'Bob',\n      'gender': 'Male',\n      'age': 33,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 56 },\n          { \"date\": \"2018-10-3\", \"count\": 55 },\n          { \"date\": \"2018-10-4\", \"count\": 70 },\n          { \"date\": \"2018-10-5\", \"count\": 35 },\n          { \"date\": \"2018-10-6\", \"count\": 61 },\n          { \"date\": \"2018-10-7\", \"count\": 71 },\n          { \"date\": \"2018-10-8\", \"count\": 57 },\n          { \"date\": \"2018-10-9\", \"count\": 14 },\n          { \"date\": \"2018-10-10\", \"count\": 72 },\n          { \"date\": \"2018-10-11\", \"count\": 75 },\n          { \"date\": \"2018-10-12\", \"count\": 35 },\n          { \"date\": \"2018-10-13\", \"count\": 27 },\n          { \"date\": \"2018-10-14\", \"count\": 57 },\n          { \"date\": \"2018-10-15\", \"count\": 77 }\n      ]\n  },\n  {\n      'name': 'Robin',\n      'gender': 'Male',\n      'age': 12,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 31 },\n          { \"date\": \"2018-10-3\", \"count\": 76 },\n          { \"date\": \"2018-10-4\", \"count\": 48 },\n          { \"date\": \"2018-10-5\", \"count\": 63 },\n          { \"date\": \"2018-10-6\", \"count\": 42 },\n          { \"date\": \"2018-10-7\", \"count\": 76 },\n          { \"date\": \"2018-10-8\", \"count\": 30 },\n          { \"date\": \"2018-10-9\", \"count\": 51 },\n          { \"date\": \"2018-10-10\", \"count\": 42 },\n          { \"date\": \"2018-10-11\", \"count\": 37 },\n          { \"date\": \"2018-10-12\", \"count\": 26 },\n          { \"date\": \"2018-10-13\", \"count\": 48 },\n          { \"date\": \"2018-10-14\", \"count\": 95 },\n          { \"date\": \"2018-10-15\", \"count\": 11 }\n      ]\n  },\n  {\n      'name': 'Anne',\n      'gender': 'Female',\n      'age': 41,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 31 },\n          { \"date\": \"2018-10-3\", \"count\": 76 },\n          { \"date\": \"2018-10-4\", \"count\": 48 },\n          { \"date\": \"2018-10-5\", \"count\": 36 },\n          { \"date\": \"2018-10-6\", \"count\": 42 },\n          { \"date\": \"2018-10-7\", \"count\": 72 },\n          { \"date\": \"2018-10-8\", \"count\": 33 },\n          { \"date\": \"2018-10-9\", \"count\": 55 },\n          { \"date\": \"2018-10-10\", \"count\": 42 },\n          { \"date\": \"2018-10-11\", \"count\": 27 },\n          { \"date\": \"2018-10-12\", \"count\": 46 },\n          { \"date\": \"2018-10-13\", \"count\": 58 },\n          { \"date\": \"2018-10-14\", \"count\": 45 },\n          { \"date\": \"2018-10-15\", \"count\": 12 }\n      ]\n  },\n  {\n      'name': 'Mark',\n      'gender': 'Male',\n      'age': 16,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 66 },\n          { \"date\": \"2018-10-3\", \"count\": 10 },\n          { \"date\": \"2018-10-4\", \"count\": 54 },\n          { \"date\": \"2018-10-5\", \"count\": 75 },\n          { \"date\": \"2018-10-6\", \"count\": 55 },\n          { \"date\": \"2018-10-7\", \"count\": 84 },\n          { \"date\": \"2018-10-8\", \"count\": 24 },\n          { \"date\": \"2018-10-9\", \"count\": 92 },\n          { \"date\": \"2018-10-10\", \"count\": 84 },\n          { \"date\": \"2018-10-11\", \"count\": 3 },\n          { \"date\": \"2018-10-12\", \"count\": 78 },\n          { \"date\": \"2018-10-13\", \"count\": 14 },\n          { \"date\": \"2018-10-14\", \"count\": 30 },\n          { \"date\": \"2018-10-15\", \"count\": 81 }\n      ]\n  },\n  {\n      'name': 'Joe',\n      'gender': 'Male',\n      'age': 59,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 17 },\n          { \"date\": \"2018-10-3\", \"count\": 22 },\n          { \"date\": \"2018-10-4\", \"count\": 23 },\n          { \"date\": \"2018-10-5\", \"count\": 1 },\n          { \"date\": \"2018-10-6\", \"count\": 54 },\n          { \"date\": \"2018-10-7\", \"count\": 58 },\n          { \"date\": \"2018-10-8\", \"count\": 84 },\n          { \"date\": \"2018-10-9\", \"count\": 24 },\n          { \"date\": \"2018-10-10\", \"count\": 32 },\n          { \"date\": \"2018-10-11\", \"count\": 16 },\n          { \"date\": \"2018-10-12\", \"count\": 5 },\n          { \"date\": \"2018-10-13\", \"count\": 22 },\n          { \"date\": \"2018-10-14\", \"count\": 33 },\n          { \"date\": \"2018-10-15\", \"count\": 29 }\n      ]\n  },\n  {\n      'name': 'Eve',\n      'gender': 'Female',\n      'age': 38,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 3 },\n          { \"date\": \"2018-10-3\", \"count\": 16 },\n          { \"date\": \"2018-10-4\", \"count\": 12 },\n          { \"date\": \"2018-10-5\", \"count\": 6 },\n          { \"date\": \"2018-10-6\", \"count\": 97 },\n          { \"date\": \"2018-10-7\", \"count\": 81 },\n          { \"date\": \"2018-10-8\", \"count\": 22 },\n          { \"date\": \"2018-10-9\", \"count\": 55 },\n          { \"date\": \"2018-10-10\", \"count\": 99 },\n          { \"date\": \"2018-10-11\", \"count\": 13 },\n          { \"date\": \"2018-10-12\", \"count\": 76 },\n          { \"date\": \"2018-10-13\", \"count\": 24 },\n          { \"date\": \"2018-10-14\", \"count\": 39 },\n          { \"date\": \"2018-10-15\", \"count\": 87 }\n      ]\n  },\n  {\n      'name': 'Karen',\n      'gender': 'Female',\n      'age': 21,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 74 },\n          { \"date\": \"2018-10-3\", \"count\": 99 },\n          { \"date\": \"2018-10-4\", \"count\": 60 },\n          { \"date\": \"2018-10-5\", \"count\": 2 },\n          { \"date\": \"2018-10-6\", \"count\": 90 },\n          { \"date\": \"2018-10-7\", \"count\": 63 },\n          { \"date\": \"2018-10-8\", \"count\": 36 },\n          { \"date\": \"2018-10-9\", \"count\": 88 },\n          { \"date\": \"2018-10-10\", \"count\": 23 },\n          { \"date\": \"2018-10-11\", \"count\": 34 },\n          { \"date\": \"2018-10-12\", \"count\": 56 },\n          { \"date\": \"2018-10-13\", \"count\": 87 },\n          { \"date\": \"2018-10-14\", \"count\": 18 },\n          { \"date\": \"2018-10-15\", \"count\": 38 }\n      ]\n  },\n  {\n      'name': 'Kirsty',\n      'gender': 'Unknown',\n      'age': 25,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 5 },\n          { \"date\": \"2018-10-3\", \"count\": 99 },\n          { \"date\": \"2018-10-4\", \"count\": 9 },\n          { \"date\": \"2018-10-5\", \"count\": 65 },\n          { \"date\": \"2018-10-6\", \"count\": 41 },\n          { \"date\": \"2018-10-7\", \"count\": 99 },\n          { \"date\": \"2018-10-8\", \"count\": 42 },\n          { \"date\": \"2018-10-9\", \"count\": 21 },\n          { \"date\": \"2018-10-10\", \"count\": 89 },\n          { \"date\": \"2018-10-11\", \"count\": 76 },\n          { \"date\": \"2018-10-12\", \"count\": 83 },\n          { \"date\": \"2018-10-13\", \"count\": 19 },\n          { \"date\": \"2018-10-14\", \"count\": 63 },\n          { \"date\": \"2018-10-15\", \"count\": 80 }\n      ]\n  },\n  {\n      'name': 'Chris',\n      'gender': 'Female',\n      'age': 30,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 77 },\n          { \"date\": \"2018-10-3\", \"count\": 28 },\n          { \"date\": \"2018-10-4\", \"count\": 97 },\n          { \"date\": \"2018-10-5\", \"count\": 40 },\n          { \"date\": \"2018-10-6\", \"count\": 45 },\n          { \"date\": \"2018-10-7\", \"count\": 21 },\n          { \"date\": \"2018-10-8\", \"count\": 49 },\n          { \"date\": \"2018-10-9\", \"count\": 24 },\n          { \"date\": \"2018-10-10\", \"count\": 54 },\n          { \"date\": \"2018-10-11\", \"count\": 99 },\n          { \"date\": \"2018-10-12\", \"count\": 69 },\n          { \"date\": \"2018-10-13\", \"count\": 9 },\n          { \"date\": \"2018-10-14\", \"count\": 69 },\n          { \"date\": \"2018-10-15\", \"count\": 70 }\n      ]\n  },\n  {\n      'name': 'Lisa',\n      'gender': 'Female',\n      'age': 47,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 95 },\n          { \"date\": \"2018-10-3\", \"count\": 66 },\n          { \"date\": \"2018-10-4\", \"count\": 83 },\n          { \"date\": \"2018-10-5\", \"count\": 36 },\n          { \"date\": \"2018-10-6\", \"count\": 82 },\n          { \"date\": \"2018-10-7\", \"count\": 51 },\n          { \"date\": \"2018-10-8\", \"count\": 75 },\n          { \"date\": \"2018-10-9\", \"count\": 76 },\n          { \"date\": \"2018-10-10\", \"count\": 8 },\n          { \"date\": \"2018-10-11\", \"count\": 58 },\n          { \"date\": \"2018-10-12\", \"count\": 4 },\n          { \"date\": \"2018-10-13\", \"count\": 94 },\n          { \"date\": \"2018-10-14\", \"count\": 49 },\n          { \"date\": \"2018-10-15\", \"count\": 61 }\n      ]\n  },\n  {\n      'name': 'Tom',\n      'gender': 'Male',\n      'age': 15,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 21 },\n          { \"date\": \"2018-10-3\", \"count\": 88 },\n          { \"date\": \"2018-10-4\", \"count\": 61 },\n          { \"date\": \"2018-10-5\", \"count\": 9 },\n          { \"date\": \"2018-10-6\", \"count\": 80 },\n          { \"date\": \"2018-10-7\", \"count\": 37 },\n          { \"date\": \"2018-10-8\", \"count\": 82 },\n          { \"date\": \"2018-10-9\", \"count\": 67 },\n          { \"date\": \"2018-10-10\", \"count\": 93 },\n          { \"date\": \"2018-10-11\", \"count\": 19 },\n          { \"date\": \"2018-10-12\", \"count\": 90 },\n          { \"date\": \"2018-10-13\", \"count\": 10 },\n          { \"date\": \"2018-10-14\", \"count\": 23 },\n          { \"date\": \"2018-10-15\", \"count\": 13 }\n      ]\n  },\n  {\n      'name': 'Stacy',\n      'gender': 'Unknown',\n      'age': 20,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 56 },\n          { \"date\": \"2018-10-3\", \"count\": 98 },\n          { \"date\": \"2018-10-4\", \"count\": 95 },\n          { \"date\": \"2018-10-5\", \"count\": 62 },\n          { \"date\": \"2018-10-6\", \"count\": 84 },\n          { \"date\": \"2018-10-7\", \"count\": 51 },\n          { \"date\": \"2018-10-8\", \"count\": 71 },\n          { \"date\": \"2018-10-9\", \"count\": 73 },\n          { \"date\": \"2018-10-10\", \"count\": 33 },\n          { \"date\": \"2018-10-11\", \"count\": 5 },\n          { \"date\": \"2018-10-12\", \"count\": 50 },\n          { \"date\": \"2018-10-13\", \"count\": 12 },\n          { \"date\": \"2018-10-14\", \"count\": 77 },\n          { \"date\": \"2018-10-15\", \"count\": 68 }\n      ]\n  },\n  {\n      'name': 'Charles',\n      'gender': 'Male',\n      'age': 13,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 98 },\n          { \"date\": \"2018-10-3\", \"count\": 10 },\n          { \"date\": \"2018-10-4\", \"count\": 93 },\n          { \"date\": \"2018-10-5\", \"count\": 19 },\n          { \"date\": \"2018-10-6\", \"count\": 70 },\n          { \"date\": \"2018-10-7\", \"count\": 26 },\n          { \"date\": \"2018-10-8\", \"count\": 6 },\n          { \"date\": \"2018-10-9\", \"count\": 82 },\n          { \"date\": \"2018-10-10\", \"count\": 98 },\n          { \"date\": \"2018-10-11\", \"count\": 43 },\n          { \"date\": \"2018-10-12\", \"count\": 95 },\n          { \"date\": \"2018-10-13\", \"count\": 50 },\n          { \"date\": \"2018-10-14\", \"count\": 60 },\n          { \"date\": \"2018-10-15\", \"count\": 93 }\n      ]\n  },\n  {\n      'name': 'Mary',\n      'gender': 'Female',\n      'age': 29,\n      'activities': [\n          { \"date\": \"2018-10-2\", \"count\": 53 },\n          { \"date\": \"2018-10-3\", \"count\": 20 },\n          { \"date\": \"2018-10-4\", \"count\": 82 },\n          { \"date\": \"2018-10-5\", \"count\": 76 },\n          { \"date\": \"2018-10-6\", \"count\": 9 },\n          { \"date\": \"2018-10-7\", \"count\": 3 },\n          { \"date\": \"2018-10-8\", \"count\": 76 },\n          { \"date\": \"2018-10-9\", \"count\": 23 },\n          { \"date\": \"2018-10-10\", \"count\": 80 },\n          { \"date\": \"2018-10-11\", \"count\": 84 },\n          { \"date\": \"2018-10-12\", \"count\": 88 },\n          { \"date\": \"2018-10-13\", \"count\": 53 },\n          { \"date\": \"2018-10-14\", \"count\": 58 },\n          { \"date\": \"2018-10-15\", \"count\": 66 }\n      ]\n  },\n]\n\nexport default data;","import * as d3 from 'd3';\n\nconst draw = (props) => {\n    const data = props.data;\n    const gender = ['Male', 'Female', 'Unknown'];\n    let count = new Array(3).fill(0);\n    data.forEach(d => {\n        let genderIndex = gender.indexOf(d.gender);\n        if (genderIndex + 1)\n            count[genderIndex] += 1;\n    });\n\n    const dataset = [\n        { label: 'Male', count: count[0] },\n        { label: 'Female', count: count[1] },\n        { label: 'Unknown', count: count[2] }\n    ]\n\n    d3.select('.vis-piechart > *').remove();\n    const margin = { top: 10, right: 20, bottom: 30, left: 40 };\n    const width = props.width - margin.left - margin.right;\n    const height = props.height - margin.top - margin.bottom;\n\n    let svg = d3.select('.vis-piechart')\n        .append('svg')\n        .attr('width', width + margin.left + margin.right)\n        .attr('height', height + margin.top + margin.bottom)\n        .append('g')\n        .attr('transform', 'translate(' + (width / 2 + margin.left) + ',' + (height / 2 + margin.top) + ')');\n\n    let radius = Math.min(width, height) / 2;\n\n    let color = d3.scaleOrdinal()\n        .range(['steelblue', 'LightBlue', 'LightSteelBlue']);\n\n    let arc = d3.arc()\n        .innerRadius(0)\n        .outerRadius(radius);\n\n    let pie = d3.pie()\n        .value(function (d) { return d.count; })\n        .sort(null);\n\n    svg.selectAll('path')\n        .data(pie(dataset))\n        .enter()\n        .append('path')\n        .attr('d', arc)\n        .attr('fill', function (d, i) {\n            return color(d.data.label);\n        });\n    let legendG = svg.selectAll(\".legend\")\n        .data(pie(dataset))\n        .enter().append(\"g\")\n        .attr(\"transform\", function (d, i) {\n            return \"translate(\" + (i * 70 - 100) + \",\" + 110 + \")\"; \n        })\n        .attr(\"class\", \"legend\");\n\n    legendG.append(\"rect\")\n        .attr(\"width\", 10)\n        .attr(\"height\", 10)\n        .attr(\"fill\", function (d, i) {\n            return color(i);\n        });\n\n    legendG.append(\"text\") \n        .text(function (d) {\n            return d.data.label;\n        })\n        .style(\"font-size\", 12)\n        .attr(\"y\", 10)\n        .attr(\"x\", 11);\n}\n\nexport default draw;","import React, { Component } from 'react';\nimport draw from './vis';\n\nexport default class PieChart extends Component {\n\n    componentDidMount() {\n        draw(this.props);\n    }\n\n    componentDidUpdate(preProps) {\n        draw(this.props);\n    }\n\n    render() {\n        return (\n            <div className='vis-piechart'/>\n        )\n    }\n}","import React, { useState } from 'react';\nimport { Slider, Checkbox, Divider } from 'antd';\nimport './view3.css';\n\nconst CheckboxGroup = Checkbox.Group;\n\nconst plainOptions = ['Male', 'Female', 'Unknown'];\nconst defaultCheckedList = ['Male', 'Female', 'Unknown'];\n\nexport default function View3 (props) {\n\n  const [checkedList, setCheckedList] = useState(defaultCheckedList);\n  const [indeterminate, setIndeterminate] = useState(true);\n  const [checkAll, setCheckAll] = useState(false);\n\n  const onChangeCheckbox = checkedList => {\n      setCheckedList(checkedList);\n      const indeterminateTemp = !!checkedList.length && checkedList.length < plainOptions.length;\n      setIndeterminate(indeterminateTemp);\n      const checkAllTemp = checkedList.length === plainOptions.length;\n      setCheckAll(checkAllTemp);\n\n      props.changeIncludedGender(checkedList);\n    };\n\n  const onCheckAllChange = e => {\n    const checkedList = e.target.checked ? plainOptions : [];\n    setCheckedList(checkedList);\n    setIndeterminate(false);\n    setCheckAll(e.target.checked);\n    props.changeIncludedGender(checkedList);\n  };\n\n  const onChangeSilder = value => {\n    props.changeGreaterThenAge(value);\n  }\n\n  return (\n      <div id='view3' className='pane'>\n          <div className='header'>Filter</div>\n          <h3>Gender</h3>\n          <div style={{ width: 275, margin: 5 }}>\n              <Checkbox\n                  indeterminate={indeterminate}\n                  onChange={onCheckAllChange}\n                  checked={checkAll}\n              >\n                  Check all\n              </Checkbox>\n          </div>\n          <br />\n          <div style={{ width: 275, margin: 5 }}>\n              <CheckboxGroup\n                  options={plainOptions}\n                  value={checkedList}\n                  onChange={onChangeCheckbox}\n              />\n          </div>\n          <Divider />\n          <h3>Age</h3>\n          <Slider defaultValue={0} onChange={onChangeSilder}/>\n      </div>\n  )\n}","import React, { useState, useEffect, useLayoutEffect, useCallback } from \"react\";\nimport * as d3 from \"d3\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport \"moment-timezone\";\nimport Alpaca from '@alpacahq/alpaca-trade-api';\n\nconst alpaca = new Alpaca({\n    keyId: 'PK5PVV29XY9DINIHIS47',\n    secretKey: 'ykYRnHbkpEFPw3Hf6bLMaRWY7pbIciLYr4WVIxXz',\n    paper: true\n})\n\nexport const initialPriceData =\n[\n    { Timestamp: \"2021-08-30T04:00:00Z\", ClosePrice: 100, Volume: 50 },\n    { Timestamp: \"2021-08-31T04:00:00Z\", ClosePrice: 200, Volume: 100 },\n    { Timestamp: \"2021-09-01T04:00:00Z\", ClosePrice: 100, Volume: 500 },\n  ]\nexport const initialOldPriceData =\n[\n    { Timestamp: \"2021-08-30T04:00:00Z\", ClosePrice: 50, Volume: 100 },\n    { Timestamp: \"2021-08-31T04:00:00Z\", ClosePrice: 90, Volume: 50 },\n    { Timestamp: \"2021-09-01T04:00:00Z\", ClosePrice: 75, Volume: 75 },\n  ]\n\n  function useWindowSize() {\n      \n      const [size, setSize] = useState([0, 0]);\n      useLayoutEffect(() => {\n          function updateSize() {\n          const parentDiv = document.getElementsByClassName(\"ant-layout\");\n          const parentWidth = parentDiv[1]?.clientWidth;\n          const parentHeight = parentDiv[0]?.clientHeight;\n          const margin = { top: 20, right: 20, bottom: 40, left: 70 };\n          const width = parentWidth - margin.left - margin.right - 100;\n          const height = parentHeight - margin.top - margin.bottom - 55;\n\n        setSize([width, height]);\n      }\n      window.addEventListener('resize', updateSize);\n      updateSize();\n      return () => window.removeEventListener('resize', updateSize);\n    }, []);\n    return size;\n  }\n\nexport default function LineChart(props) {\n  const [width, height] = useWindowSize();\n  const [priceData, setPriceData] = useState([]);\n  const [oldPriceData, setOldPriceData] = useState([]);\n\n  const margin = { top: 20, right: 20, bottom: 40, left: 70 };\n\n\n  const { symbol } = props;\n  const getDataFromAlpaca = async () => {\n      let resp = alpaca.getBarsV2(\n          symbol,\n          {\n              start: moment().subtract(120, 'days').format(\"yyyy-MM-DD\"),\n              end: moment().subtract(1, 'days').format(\"yyyy-MM-DD\"),\n              limit: 120,\n              timeframe: \"1Day\",\n              adjustment: \"all\",\n          },\n          alpaca.configuration\n      );\n      const bars = [];\n  \n      for await (let b of resp) {\n          bars.push(b)        \n      }\n          if(bars.length && !_.isEqual(bars, priceData) ){\n              const tempPriceData = [...priceData]\n              if(priceData.length){\n               console.log(2)\n               setPriceData([...bars]);\n               setOldPriceData([...tempPriceData])\n            }else{\n\n              console.log(3, priceData)\n              setPriceData([...bars]);\n              setOldPriceData([...bars])\n          }\n      }\n    }\n\n  useEffect(()=>{\n        getDataFromAlpaca();\n  }, [symbol]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(()=>{\n      draw();\n  }, [oldPriceData, width, height]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n  function transition() {\n    const svg = d3.select(\".svg\");\n\n    priceData.forEach(function (d) {\n      d.date = d3.timeParse(\"%Y-%m-%dT%H:%M:%SZ\")(d?.Timestamp);\n    });\n\n    let x = d3\n      .scaleTime()\n      .domain(\n        d3.extent(priceData, function (d) {\n          return d.date;\n        })\n      )\n      .range([0, width])\n      .nice();\n\n    let y = d3\n      .scaleLinear()\n      .domain([\n        d3.min(priceData, function (d) {\n          return +d.ClosePrice;\n        }) - 10,\n        d3.max(priceData, function (d) {\n          return +d.ClosePrice;\n        }) + 10,\n      ])\n      .range([height, 0]);\n    d3.select(\".yaxis\").transition().duration(1000).call(d3.axisLeft(y));\n\n    let bisect = d3.bisector(function (d) {\n      return d.date;\n    }).left;\n\n\n    d3.selectAll(\".line\")\n      .datum(priceData)\n      .transition()\n      .duration(1000)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"steelblue\")\n      .attr(\"stroke-width\", 3)\n      .attr(\n        \"d\",\n        d3\n          .line()\n          .x(function (d) {\n            return x(d.date);\n          })\n          .y(function (d) {\n            return y(d.ClosePrice);\n          })\n      );\n\n   let xBar = d3\n      .scaleBand()\n      .range([0, width])\n      .paddingInner(0.5)\n      .paddingOuter(5);\n    let yBar = d3.scaleLinear().range([height, 0]);\n\n    xBar.domain(\n      priceData.map(function (d) {\n        return d.date;\n      })\n    )\n    yBar\n      .domain([\n        0,\n        d3.max(priceData, function (d) {\n          return d.Volume;\n        }),\n      ])\n      .nice();\n\n    d3.select(\".yaxis1\").transition().duration(1000).call(d3.axisRight(yBar));\n\n    let rect = svg.selectAll(\".bar\").data(priceData);\n\n    rect\n      .enter()\n      .append('rect')\n      .merge(rect)\n      .transition()\n      .duration(1000)\n      .style(\"stroke\", \"none\")\n      .style(\"fill\", \"#ccc\")\n      .attr(\"x\", function (d) {\n        return x(d.date) - xBar.bandwidth() / 2;\n      })\n      .attr(\"width\", function (d) {\n        return xBar.bandwidth();\n      })\n      .attr(\"y\", function (d) {\n        return yBar(d.Volume);\n      })\n      .attr(\"height\", function (d) {\n        return height - yBar(d.Volume);\n      });\n\n    let focus = svg\n      .append(\"g\")\n      .append(\"circle\")\n      .style(\"fill\", \"#E44444\")\n      .attr(\"stroke\", \"none\")\n      .attr(\"class\", \"tooltip_circle\")\n      .attr(\"r\", 4)\n      .style(\"opacity\", 0);\n\n    let focusBox = svg\n      .append(\"g\")\n      .append(\"rect\")\n      .style(\"fill\", \"#80FFBC\")\n      .style(\"stroke\", \"none\")\n      .style(\"opacity\", 0)\n      .attr(\"width\", 250)\n      .attr(\"height\", 70)\n      .attr(\"x\", 10)\n      .attr(\"y\", -22)\n      .attr(\"rx\", 4)\n      .attr(\"ry\", 4);\n\n    let focusLine = svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"opacity\", 0)\n      .attr(\"class\", \"hover-line\")\n      .attr(\"stroke\", \"#E44444\")\n      .attr(\"x1\", 10)\n      .attr(\"x2\", 10)\n      .attr(\"y1\", 0)\n      .attr(\"y2\", height);\n\n    let focusText1 = svg\n      .append(\"g\")\n      .append(\"text\")\n      .style(\"opacity\", 0)\n      .attr(\"class\", \"tooltip\")\n      .attr(\"text-anchor\", \"left\")\n      .attr(\"alignment-baseline\", \"middle\");\n    let focusText2 = svg\n      .append(\"g\")\n      .append(\"text\")\n      .style(\"opacity\", 0)\n      .attr(\"class\", \"tooltip\")\n      .attr(\"text-anchor\", \"left\")\n      .attr(\"alignment-baseline\", \"middle\");\n    let focusText3 = svg\n      .append(\"g\")\n      .append(\"text\")\n      .style(\"opacity\", 0)\n      .attr(\"class\", \"tooltip\")\n      .attr(\"text-anchor\", \"left\")\n      .attr(\"alignment-baseline\", \"middle\");\n\n    focusText1\n      .append(\"rect\")\n      .attr(\"class\", \"tooltip\")\n      .attr(\"width\", 100)\n      .attr(\"height\", 50)\n      .attr(\"fill\", \"white\")\n      .attr(\"stroke\", \"#000\");\n\n    svg\n      .append(\"g\")\n      .append(\"rect\")\n      .style(\"fill\", \"none\")\n      .style(\"pointer-events\", \"all\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .on(\"mouseover\", mouseover)\n      .on(\"mousemove\", mousemove)\n      .on(\"mouseout\", mouseout);\n\n    function mouseover() {\n      focus.style(\"opacity\", 0.5);\n      focusBox.style(\"opacity\", 0.5);\n      focusLine.style(\"opacity\", 0.5);\n      focusText1.style(\"opacity\", 0.5);\n      focusText2.style(\"opacity\", 0.5);\n      focusText3.style(\"opacity\", 0.5);\n    }\n\n    function mousemove(event) {\n      let mouse_x = d3.pointer(event, this)[0];\n      let xposition = -260;\n      if (mouse_x < 200) {\n        xposition = 20;\n      }\n      let x0 = x.invert(mouse_x);\n      let i = bisect(priceData, x0, 0);\n      let selectedData = priceData[i] ? priceData[i] : priceData[i - 1];\n      focus\n        .attr(\"cx\", x(selectedData?.date))\n        .attr(\"cy\", y(selectedData?.ClosePrice));\n\n      focusBox\n        .attr(\"x\", x(selectedData?.date) + xposition)\n        .attr(\"y\", y(selectedData?.ClosePrice) - 22);\n\n      focusLine\n        .attr(\"x1\", x(selectedData?.date))\n        .attr(\"x2\", x(selectedData?.date));\n      focusText1\n        .text(\n          \"Datetime: \" +\n            moment(selectedData?.date).format(\"yyyy-MM-DD\") +\n            \" \" +\n            moment.tz(moment.tz.guess()).zoneAbbr()\n        )\n        .attr(\"x\", x(selectedData?.date) + 15 + xposition)\n        .attr(\"y\", y(selectedData?.ClosePrice));\n      focusText2\n        .text(\"ClosePrice: $\" + selectedData?.ClosePrice?.toFixed(2))\n        .attr(\"x\", x(selectedData?.date) + 15 + xposition)\n        .attr(\"y\", y(selectedData?.ClosePrice) + 15);\n      focusText3\n        .text(\"Volume: \" + selectedData?.Volume?.toLocaleString(\"en-US\"))\n        .attr(\"x\", x(selectedData?.date) + 15 + xposition)\n        .attr(\"y\", y(selectedData?.ClosePrice) + 30);\n    }\n\n    function mouseout() {\n      focus.style(\"opacity\", 0);\n      focusBox.style(\"opacity\", 0);\n      focusLine.style(\"opacity\", 0);\n      focusText1.style(\"opacity\", 0);\n      focusText2.style(\"opacity\", 0);\n      focusText3.style(\"opacity\", 0);\n    }\n\n  }\n\n  const draw = () => {\n      console.log('draw: ', oldPriceData[0])\n    let data = [];\n\n    if (width && height) {\n      data = oldPriceData;\n\n      d3.select(\".vis-linechart > *\").remove();\n\n      let svg = d3\n        .select(\".vis-linechart\")\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right + 100)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n        .attr(\"class\", \"svg\");\n\n      data.forEach(function (d) {\n        d.date = d3.timeParse(\"%Y-%m-%dT%H:%M:%SZ\")(d.Timestamp);\n        d.count = +d.ClosePrice;\n      });\n\n      let x = d3\n        .scaleTime()\n        .domain(\n          d3.extent(data, function (d) {\n            return d.date;\n          })\n        )\n        .range([0, width])\n        .nice();\n\n      svg\n        .append(\"text\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"y\", 0 - margin.left)\n        .attr(\"x\", 0 - height / 2)\n        .attr(\"dy\", \"1em\")\n        .style(\"text-anchor\", \"middle\")\n        .text(\"ClosePrice\");\n\n      svg\n        .append(\"text\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"y\", width + margin.right + 60)\n        .attr(\"x\", 0 - height / 2)\n        .attr(\"dy\", \"1em\")\n        .style(\"text-anchor\", \"middle\")\n        .text(\"Volume\");\n\n      svg\n        .append(\"text\")\n        .attr(\n          \"transform\",\n          \"translate(\" + width / 2 + \" ,\" + (height + margin.top + 30) + \")\"\n        )\n        .style(\"text-anchor\", \"middle\")\n        .text(\"Datetime\");\n\n      svg\n        .append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x))\n        .selectAll('text')\n        .attr('y', 0)\n        .attr('x', -40)\n        .attr('dy', '.35em')\n        .attr(\"transform\", \"rotate(-90)\")\n        .style('text-anchor', 'start')\n\n      var y = d3\n        .scaleLinear()\n        .domain([\n          d3.min(data, function (d) {\n            return +d.count;\n          }) - 10,\n          d3.max(data, function (d) {\n            return +d.count;\n          }) + 10,\n        ])\n        .range([height, 0]);\n      svg.append(\"g\").attr(\"class\", \"yaxis\").call(d3.axisLeft(y));\n\n      let rect = svg.selectAll(\"rect\").data(data);\n      let xBar = d3\n        .scaleBand()\n        .range([0, width])\n        .paddingInner(0.5)\n        .paddingOuter(5);\n      let yBar = d3.scaleLinear().range([height, 0]);\n\n      xBar.domain(\n        data.map(function (d) {\n          return d.date;\n        })\n      );\n      yBar\n        .domain([\n          0,\n          d3.max(data, function (d) {\n            return d.Volume;\n          }),\n        ])\n        .nice();\n\n      rect\n        .enter()\n        .append(\"rect\")\n        .merge(rect)\n        .attr(\"class\", \"bar\")\n        .style(\"stroke\", \"none\")\n        .style(\"fill\", \"#ccc\")\n        .attr(\"x\", function (d) {\n          return x(d.date) - xBar.bandwidth() / 2;\n        })\n        .attr(\"width\", function (d) {\n          return xBar.bandwidth();\n        })\n        .attr(\"y\", function (d) {\n          return yBar(d.Volume);\n        })\n        .attr(\"height\", function (d) {\n          return height - yBar(d.Volume);\n        });\n\n      svg\n        .append(\"g\")\n        .attr(\"class\", \"yaxis1\")\n        .attr(\"transform\", \"translate( \" + width + \", 0 )\")\n        .call(d3.axisRight(yBar));\n\n      svg\n        .append(\"path\")\n        .datum(data)\n        .attr(\"class\", \"line\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"steelblue\")\n        .attr(\"stroke-width\", 3)\n        .attr(\n          \"d\",\n          d3\n            .line()\n            .x(function (d) {\n              return x(d.date);\n            })\n            .y(function (d) {\n              return y(d.count);\n            })\n        );\n\n      transition();\n    } else {\n      return 0;\n    }\n  };\n\n  return <div className=\"vis-linechart\" />;\n}\n","import React, { Component } from 'react';\nimport './view4.css';\nimport LineChart from './charts/LineChart';\n\nexport default function View4 (props) {\n  const {data, symbol} = props;\n//   const width = 1100;\n//   const height = 250;\n  return (\n      <div id='view4' className='pane' >\n          <div className='header'>Chart</div>\n          <div style={{ overflowX: 'scroll',overflowY:'hidden' }}>\n              <LineChart data={data} symbol={symbol} />\n              {/* <LineChart data={data} width={width} height={height} /> */}\n          </div>\n      </div>\n  )\n}","import * as d3 from 'd3';\nimport './style.css';\n\nconst draw = (props) => {\n    d3.select('.vis-barchart > *').remove();\n    const data = props.data;\n    const margin = {top: 20, right: 20, bottom: 30, left: 40};\n    const width = props.width - margin.left - margin.right;\n    const height = props.height - margin.top - margin.bottom;\n    let svg = d3.select('.vis-barchart').append('svg')\n            .attr('width',width + margin.left + margin.right)\n            .attr('height',height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    // format the data\n    data.forEach(function(d) {\n        d.age = +d.age;\n    });\n\n    // Scale the range of the data in the domains\n    let x = d3.scaleBand()\n          .range([0, width])\n          .padding(0.1);\n    let y = d3.scaleLinear()\n          .range([height, 0]);\n    x.domain(data.map(function(d) { return d.name; }));\n    y.domain([0, d3.max(data, function(d) { return d.age; })]);\n\n    // append the rectangles for the bar chart\n    svg.selectAll(\".bar\")\n        .data(data)\n        .enter().append(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", function(d) { return x(d.name); })\n        .attr(\"width\", x.bandwidth())\n        .attr(\"y\", function(d) { return y(d.age); })\n        .attr(\"height\", function(d) { return height - y(d.age); });\n\n    // add the x Axis\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x));\n\n    // add the y Axis\n    svg.append(\"g\")\n        .call(d3.axisLeft(y));\n}\n\nexport default draw;","import React, { Component } from 'react';\nimport draw from './vis';\n\nexport default class BarChart extends Component {\n\n    componentDidMount() {\n        draw(this.props);\n    }\n\n    componentDidUpdate(preProps) {\n        draw(this.props);\n    }\n\n    render() {\n        return (\n            <div className='vis-barchart'/>\n        )\n    }\n}","import React, { useState } from \"react\";\nimport { Menu } from \"antd\";\nimport \"./view6.css\";\n\nexport default function View6(props) {\n  const { data } = props;\n  const [selectedSymbol, setSelectedSymbol] = useState([data[0]]);\n\n  const selectSymbol = (symbol) => {\n    props.changeSelectSymbol(symbol);\n  };\n\n  const handleClick = (e) => {\n    const symbol = e.key;\n    setSelectedSymbol([symbol]);\n    selectSymbol(symbol);\n  };\n\n  return (\n    <div id=\"view6\" className=\"pane\">\n      <div className=\"header\">Stock List</div>\n      <Menu onClick={handleClick} selectedKeys={selectedSymbol}>\n        {data.map((symbol) => {\n          return <Menu.Item key={symbol}>{symbol}</Menu.Item>;\n        })}\n      </Menu>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { Layout } from 'antd';\nimport axios from 'axios';\nimport moment from 'moment';\nimport data from './data';\nimport View1 from './View1';\nimport View2 from './View2';\nimport View3 from './View3';\nimport View4 from './View4';\nimport View5 from './View5';\nimport View6 from './View6';\nimport './dashboard.css';\nimport 'antd/dist/antd.css'\nimport Alpaca from '@alpacahq/alpaca-trade-api';\n\nconst alpaca = new Alpaca({\n    keyId: 'PK5PVV29XY9DINIHIS47',\n    secretKey: 'ykYRnHbkpEFPw3Hf6bLMaRWY7pbIciLYr4WVIxXz',\n    paper: true\n})\n//Live\n// keyId: 'AKL4Y1UFKIDA0TR62XJ5',\n// secretKey: 'SIlWewc5d8Kl3IMB4uijPba3u06cPMTUR5wDibiZ',\n// clientId:  982777b6c0b6ab8ca0dd15095d268a99\n// client secret: 24fc2c1abb37cfe31540b440eb1e3be83a6bfc84\n\n\n\nconst { Sider, Content, Footer } = Layout;\n\nconst initialStockList = [\n    'AAPL',\n    'MSFT',\n    'TSLA'\n];\n\nexport default function Dashboard () {\n  const [symbol, setSymbol] = useState('AAPL')\n  const [minuteData, setMinuteData] = useState();\n  const [selectedUser, setSelectedUser] = useState(data[0]);\n  const [greaterThenAge, setGreaterThenAge] = useState(0);\n  const [includedGender, setIncludedGender] = useState(['Male', 'Female','Unknown']);\n\n  useEffect(()=>{\n    getDataFromAlpaca();\n  }, [symbol])\n\n//   const getStockDataFromPolygon = async () => {\n//     const polygonUrl = 'https://api.polygon.io/v2/aggs/ticker/'\n//     const ticker = 'X:BTCUSD/';\n//     const range = 'range/1/minute/';\n//     const from = moment().add(-30, 'days').format('YYYY-MM-DD')+'/';\n//     const to = moment(new Date()).format('YYYY-MM-DD')+'?';\n//     const configs = 'adjusted=true&sort=asc&limit=120&';\n//     const apiKey = 'apiKey=xksrOIBgAp64YKpGr8pQtrSTMtRktvAQ';\n//     const axiosUrl = polygonUrl + ticker + range + from + to + configs + apiKey;\n//     // console.log(axiosUrl)\n//     const axiosResult = await axios(axiosUrl);\n//     // console.log(axiosResult.data.results)\n//     const results = axiosResult.data.results;\n//     // console.log(results.length)\n//     console.log('results: ', results[0])\n//     const closes = results.map(e=>e.c);\n//     console.log('closes: ', closes)\n//     setMinuteData(closes);\n//     // setStockCloses(closes);\n//   };\n\n  const getDataFromAlpaca = async () => {\n    // const alpacaAccount = await alpaca.getAccount()\n    //     console.log('Current Account:', alpacaAccount)\n        // start: moment().subtract(3, 'hours').format(\"yyyy-MM-DD\"),\n    let resp = alpaca.getBarsV2(\n        symbol,\n        // \"BTCUSD\",\n        {\n            // start: moment().subtract(3, 'hours').format(),\n            // end: moment().subtract(20, 'minutes').format(),\n            // start: moment().subtract(3, 'days').format(\"yyyy-MM-DD\"),\n            // end: moment().format(\"yyyy-MM-DD\"),\n            // start: \"2021-12-01\",\n            start: moment().subtract(120, 'days').format(\"yyyy-MM-DD\"),\n            // end: \"2021-12-10\",\n            end: moment().subtract(1, 'days').format(\"yyyy-MM-DD\"),\n            limit: 120,\n            timeframe: \"1Day\",\n            // timeframe: \"1Minute\",\n            adjustment: \"all\",\n        },\n        alpaca.configuration\n    );\n    const bars = [];\n\n    // console.log('resp: ', resp)\n    \n    for await (let b of resp) {\n        bars.push(b)        \n    }\n    setMinuteData(bars);\n    // console.log('minuteData: ', minuteData? minuteData[0]:null)\n  };\n\n\n\n  const filteredData = data.filter(user=>includedGender.indexOf(user.gender)!==-1)\n                                 .filter(user=>user.age>greaterThenAge);\n\n  const changeSelectUser = value => {\n    setSelectedUser(value);\n  }\n\n  const changeSelectSymbol = value => {\n    setSymbol(value);\n  }\n\n  const changeGreaterThenAge = value => {\n    setGreaterThenAge(value);\n  }\n\n  const changeIncludedGender = value => {\n    setIncludedGender(value);\n  }\n\n  return (\n    <div>\n        <Layout style={{height:\"90vh\"}}>\n            <Sider height={\"90vh\"} width={\"20vw\"} style={{backgroundColor:'#eee'}}>\n                <View6 data={initialStockList} changeSelectSymbol={changeSelectSymbol}/>\n            </Sider>\n            <Layout id='chart-area'>\n                <Content >\n                    <View4 data={minuteData} symbol={symbol}/>\n                </Content>\n            </Layout>\n        </Layout>\n            <Footer >\n                <div style={{marginTop: -10, textAlign: 'center'}}>\n                    <a href='https://github.com/junho7/d3js-stock'>Source Code </a>\n                    by <a href='https://www.linkedin.com/in/jpark7/'>Junho Park</a>\n                </div>\n            </Footer>\n    </div>\n  )\n\n}","import './App.css';\nimport Stock from './component/Stock';\nimport Dashboard from './component/Dashboard';\n\nfunction App() {\n  return (\n    <Dashboard />\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}